version: "1.0"
rules:
  - id: "I-01.01"
    title: "Полный контекст эксперимента"
    phase: "I"
    severity: "CATASTROPHIC"
    statement: "Каждый ExperimentRecord обязан содержать полный ContextSnapshot."
    test: "test_i_01_01_full_context"

  - id: "I-02.01"
    title: "Нестираемость истории"
    phase: "I"
    severity: "CATASTROPHIC"
    statement: "ExperimentRecord иммутабелен. Append-only архитектура. Исправления - только через CorrectionRecord."
    test: "test_i_02_01_append_only"

  - id: "I-03.01"
    title: "Защита от упрощения"
    phase: "ALL"
    severity: "HIGH"
    statement: "Система не должна скрывать сложность в угоду проценту успеха и удобству."
    test: "test_i_03_01_no_simplification"

  - id: "I-06.01"
    title: "Разделение фаз"
    phase: "ARCH"
    severity: "CATASTROPHIC"
    statement: "Phase I и Phase II выполняются в разных процессах и БД; Phase I не зависит от Phase II."
    test: "test_i_06_01_phase_separation"

  - id: "I-07.01"
    title: "Воспроизводимость"
    phase: "I"
    severity: "HIGH"
    statement: "Каждый эксперимент должен иметь скрипт/артефакт воспроизведения."
    test: "test_i_07_01_reproducibility"

  - id: "P-02.01"
    title: "Цепочка хешей"
    phase: "I"
    severity: "HIGH"
    statement: "Каждая запись включает криптографические хеши и связана в цепочку (chain_hash)."
    test: "test_p_02_01_hash_chain"

  - id: "X-01.01"
    title: "Запрет истории в Phase I"
    phase: "I"
    severity: "CATASTROPHIC"
    statement: "Phase I не читает результаты прошлых экспериментов при генерации новых наблюдений."
    test: "test_x_01_01_no_history_in_phase_i"
